import{b as m,j as e,f as p,F as j,r,c as h,d as v,L as _,T as x}from"./index-BGLR1nTb.js";const u="_container_11hpj_1",f="_movieCard_11hpj_6",g="_moviePosterWrapper_11hpj_21",N="_moviePoster_11hpj_21",W="_movieInfo_11hpj_45",I="_movieTitle_11hpj_57",D="_movieDescription_11hpj_69",P="_movieInfoWrap_11hpj_81",C="_actionsWrap_11hpj_100",L="_button_11hpj_113",T="_noLoad_11hpj_134",t={container:u,movieCard:f,moviePosterWrapper:g,moviePoster:N,movieInfo:W,movieTitle:I,movieDescription:D,movieInfoWrap:P,actionsWrap:C,button:L,noLoad:T},b=({movie:s})=>{const i=m();return s?e.jsx("div",{className:t.container,children:e.jsxs("div",{className:t.movieCard,children:[e.jsx("div",{className:t.moviePosterWrapper,children:e.jsx("img",{src:s.poster,alt:s.title,className:t.moviePoster})}),e.jsxs("div",{className:t.movieInfo,children:[e.jsx("h2",{className:t.movieTitle,children:s.title}),e.jsx("p",{className:t.movieDescription,children:s.description}),e.jsxs("div",{className:t.movieInfoWrap,children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Release:"})," ",p(s.release_date)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Director:"})," ",s.director]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cast:"})," ",s.actors.join(", ")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Genres:"})," ",s.genres.join(", ")]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rating:"})," ",s.rating]}),e.jsxs("div",{className:t.actionsWrap,children:[e.jsx(j,{movie:s,expanded:!0}),e.jsx("button",{className:t.button,onClick:()=>i(-1),children:"Back"})]})]})]})]})}):e.jsx("div",{className:t.noLoad,children:"Could not load movie details"})},S=()=>{const[s,i]=r.useState(),[d,l]=r.useState(!1),[n,a]=r.useState(null),c=h().id;return r.useEffect(()=>{if(!c){a("Missing movie ID");return}l(!0),v(c).then(o=>i(o)).catch(o=>a(o.message||"Something went wrong")).finally(()=>l(!1))},[c]),r.useEffect(()=>{if(n){const o=setTimeout(()=>a(""),3e3);return()=>clearTimeout(o)}},[n]),e.jsxs(e.Fragment,{children:[d?e.jsx(_,{}):e.jsx(b,{movie:s}),n?e.jsx(x,{message:n}):null]})};export{S as default};
